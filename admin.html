<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>دخول المشرف - مدارس الفلاح الأهلية</title>
<link href="https://fonts.googleapis.com/css2?family=Calibri:wght@400;700&display=swap" rel="stylesheet">

<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>

<style>
body{
  font-family: Calibri;
  background: linear-gradient(135deg,#1976d2,#42a5f5);
  height:100vh;margin:0;
  display:flex;align-items:center;justify-content:center;
}
.card{
  background:#fff;color:#1565c0;
  padding:30px;border-radius:15px;
  box-shadow:0 0 20px rgba(0,0,0,0.3);
  width:90%;max-width:400px;text-align:center;
}
h1{margin:0;font-size:28px;font-weight:bold;}
h2{margin:10px 0;color:#d32f2f;}
input,button{
  width:100%;padding:12px;margin-top:15px;
  border-radius:8px;border:1px solid #999;
  font-size:18px;
}
button{
  background:#1976d2;color:#fff;border:none;
  cursor:pointer;font-weight:bold;
}
button:hover{opacity:0.9;}
.link-btn{background:#d32f2f;}
.reset-link{
  display:block;
  margin-top:10px;
  color:#1565c0;
  text-decoration:underline;
  cursor:pointer;
}
</style>
</head>
<body>

<div class="card">
  <h1>مدارس الفلاح الأهلية</h1>
  <h2>دخول المشرف</h2>

  <input id="email" type="email" placeholder="البريد الإلكتروني">
  <input id="password" type="password" placeholder="كلمة المرور">
  <button onclick="login()">تسجيل الدخول</button>
  <span class="reset-link" onclick="resetPassword()">نسيت كلمة المرور؟</span>

  <button class="link-btn" onclick="location='student.html'">صفحة الطالب</button>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyC4-cGVb2pHwo6LYiD-UoWtmEEZKQxj4_M",
  authDomain: "all-subjects-14322.firebaseapp.com",
  projectId: "all-subjects-14322",
  storageBucket: "all-subjects-14322.firebasestorage.app",
  messagingSenderId: "813955287168",
  appId: "1:813955287168:web:07efa7dde95b117b9bbe65"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

function login(){
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();

  auth.signInWithEmailAndPassword(email, password)
  .then(()=>{
    location = "admin.html";
  })
  .catch(error=>{
    alert("خطأ في تسجيل الدخول: " + error.message);
  });
}

function resetPassword(){
  const email = document.getElementById("email").value.trim();
  if(!email){alert("يرجى إدخال البريد الإلكتروني أولًا.");return;}
  auth.sendPasswordResetEmail(email)
  .then(()=>{
    alert("تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني.");
  })
  .catch(error=>{
    alert("حدث خطأ: " + error.message);
  });
}
</script>

</body>
</html>
